#!/bin/zsh

echo "ðŸ¡ Making yourself at home..."

if [[ $(command -v brew) == "" ]]; then
  echo "ðŸº Installing Hombrew"
  sh -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)" > /dev/null 2>&1
else
  echo "ðŸº Updating Homebrew"
  brew update > /dev/null 2>&1
fi

echo "ðŸ“¦ Installing Homebrew Packages"
brew bundle --file "${HOME}/.dotfiles/brew/Brewfile" > /dev/null 2>&1

echo "ðŸ’¾ Updating ~/.zshrc file"
local injection='source "${HOME}/.dotfile"'
if ! grep -Fxq "${injection}" "${HOME}/.zshrc"; then
  echo "${injection}" >> "${HOME}/.zshrc"
fi

echo "ðŸ’¾ Sourcing ~/.zshrc file"
source "${HOME}/.zshrc"

echo "âœ… Done."
